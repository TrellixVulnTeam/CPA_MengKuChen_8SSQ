{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/chenmengku/Desktop/COSI/COSI-153A/CA1/components/CovidDemo.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\n\nvar CovidDemo = function CovidDemo(props) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState('MA'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      state = _useState4[0],\n      setState = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      text = _useState6[0],\n      setText = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  function covid_before(a, b) {\n    var keyA = new Date(a.created_at),\n        keyB = new Date(b.created_at);\n    if (keyA < keyB) return 1;\n    if (keyA > keyB) return -1;\n    return 0;\n  }\n\n  useEffect(function () {\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (cdata) {\n      setText(cdata);\n    }).catch(function (error) {\n      return console.error(error);\n    }).finally(function () {\n      return setLoading(false);\n    });\n  });\n\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: {\n        flex: 1,\n        backgroundColor: '#aaa'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    }, item['created_at'].slice(0, 10)), React.createElement(Text, {\n      style: {\n        flex: 1,\n        textAlign: 'right'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, item.new_death), React.createElement(Text, {\n      style: {\n        flex: 1,\n        textAlign: 'right'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, item['new_case']));\n  };\n\n  return React.createElement(View, {\n    style: {\n      padding: 40,\n      margin: 20,\n      border: 'thick solid blue'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 30,\n      color: 'blue'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"Covid19 Demo\"), React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, Text)), React.createElement(Button, {\n    onPress: function onPress() {\n      setState(text);\n    },\n    title: \"Get Covid Data Now\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \" Covid Data for \", state, \" is \"), React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      flex: 1,\n      backgroundColor: '#eee'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"date\"), React.createElement(Text, {\n    style: {\n      flex: 1,\n      textAlign: 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"deaths\"), React.createElement(Text, {\n    style: {\n      flex: 1,\n      textAlign: 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"cases\")), React.createElement(FlatList, {\n    data: data.slice(0, 10),\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.created_at;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default CovidDemo;","map":{"version":3,"sources":["/Users/chenmengku/Desktop/COSI/COSI-153A/CA1/components/CovidDemo.js"],"names":["React","useState","useEffect","CovidDemo","props","loading","setLoading","state","setState","text","setText","data","setData","covid_before","a","b","keyA","Date","created_at","keyB","fetch","url","then","response","json","cdata","catch","error","console","finally","renderItem","item","flexDirection","flex","backgroundColor","slice","textAlign","new_death","padding","margin","border","fontSize","color","Text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, Text, TextInput, View, FlatList } from \"react-native\";\n\nconst CovidDemo = (props) => {\n  const [loading,setLoading] = useState(true)\n  const [state, setState] = useState('MA');\n  const [text, setText] = useState('');\n  const [data,setData] = useState([]);\n\n  function covid_before(a, b) {\n    var keyA = new Date(a.created_at),\n      keyB = new Date(b.created_at);\n    // Compare the 2 dates\n    //if (a.state<b.state) return -1;\n    //if (a.state>b.state) return 1;\n    if (keyA < keyB) return 1;\n    if (keyA > keyB) return -1;\n    return 0;\n  }\n  useEffect(() => {\n    fetch(url)\n      .then((response) => response.json())\n      .then((cdata) => {\n          // sort the list cdata and get most recent object ...\n          setText(cdata)\n        })\n      .catch((error) => console.error(error))\n      .finally(() => setLoading(false));\n  });\n\n  const renderItem = ({item}) => {\n    return (\n      <View style={{flexDirection:'row'}}>\n        <Text style={{flex:1,backgroundColor:'#aaa'}}>{item['created_at'].slice(0,10)}</Text>\n        <Text style={{flex:1,textAlign:'right'}}>{item.new_death}</Text>\n        <Text style={{flex:1,textAlign:'right'}}>{item['new_case']}</Text>\n\n     </View>\n  )}\n\n  return (\n    <View style={{padding:40,margin:20,border: 'thick solid blue'}}>\n      <Text style={{fontSize:30,color:'blue'}}>\n        Covid19 Demo\n      </Text>\n      <View style={{flexDirection:'row'}}>\n        <Text>{Text}</Text>\n      </View>\n      <Button\n        onPress={() => {\n          setState(text)\n        }}\n        title=\"Get Covid Data Now\"\n      />\n      <Text> Covid Data for {state} is </Text>\n      <View style={{flexDirection:'row'}}>\n        <Text style={{flex:1,backgroundColor:'#eee'}}>date</Text>\n        <Text style={{flex:1,textAlign:'right'}}>deaths</Text>\n        <Text style={{flex:1,textAlign:'right'}}>cases</Text>\n     </View>\n      <FlatList\n        data={data.slice(0,10)}\n        renderItem={renderItem}\n        keyExtractor={item => item.created_at}\n      />\n\n    </View>\n  );\n}\n\nexport default CovidDemo;\n"]},"metadata":{},"sourceType":"module"}